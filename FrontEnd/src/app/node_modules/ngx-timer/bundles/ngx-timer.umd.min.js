!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-timer",["exports","@angular/common","@angular/core","rxjs"],t):t(e["ngx-timer"]={},e.ng.common,e.ng.core,e.rxjs)}(this,function(e,t,i,n){"use strict";var r=(o.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],o.ctorParameters=function(){return[]},o.ngInjectableDef=i.defineInjectable({factory:function(){return new o},token:o,providedIn:"root"}),o);function o(){var r=this;this.timerValue={seconds:"00",mins:"00",hours:"00"},this.isTimerStart=!1,this.totalSeconds=0,this.currentOperationId=0,this.startTimer=function(e){if(e){var t=new Date,i=new Date(e);r.totalSeconds=Math.round((t.getTime()-i.getTime())/1e3)}return r.isTimerStart=!0},this.pauseTimer=function(e,t){if(e&&t){var i=new Date(t),n=new Date(e);r.totalSeconds=Math.round((i.getTime()-n.getTime())/1e3)}return r.isTimerStart=!1},this.stopTimer=function(){r.isTimerStart=!1,r.totalSeconds=0},this.getTimerValue=function(){return new n.Observable(function(i){r.intervalSubscription&&r.intervalSubscription.unsubscribe(),r.intervalSubscription=r.interval.subscribe(function(e){if(r.isTimerStart){++r.totalSeconds,r.timerValue.seconds=r.setTimervalue(r.totalSeconds%60);var t=0;t=60<=Math.trunc(r.totalSeconds/60)?r.totalSeconds/60%60:r.totalSeconds/60,r.timerValue.mins=r.setTimervalue(Math.trunc(t)),r.timerValue.hours=r.setTimervalue(Math.trunc(r.totalSeconds/3600)),i.next(r.timerValue),i.complete()}else{if(0<r.totalSeconds){r.timerValue.seconds=r.setTimervalue(r.totalSeconds%60);t=0;t=60<=Math.trunc(r.totalSeconds/60)?r.totalSeconds/60%60:r.totalSeconds/60,r.timerValue.mins=r.setTimervalue(Math.trunc(t)),r.timerValue.hours=r.setTimervalue(Math.trunc(r.totalSeconds/3600))}else r.timerValue.hours="00",r.timerValue.mins="00",r.timerValue.seconds="00";i.next(r.timerValue),i.complete()}},function(e){i.error(e),i.complete()})})},this.setTimervalue=function(e){var t=e+"";return t.length<2?"0"+t:t},this.interval=n.interval(1e3)}var s=function V(){},a=function y(){},u=(m.prototype.ngOnInit=function(){this.getTimerValue(),this.timerConfig=new s,this.timerTextConfig=new a,this.timerConfig=this.countUpTimerConfig?Object.assign(this.countUpTimerConfig):null,this.timerTextConfig=this.countUpTimerConfig&&this.countUpTimerConfig.timerTexts?Object.assign(this.countUpTimerConfig.timerTexts):null},m.prototype.ngOnDestroy=function(){this.timerSubscription.unsubscribe()},m.decorators=[{type:i.Component,args:[{selector:"countup-timer",template:"<div [class]=\"timerConfig?.timerClass ? timerConfig.timerClass : ''\">\n  <span>{{timerObj.hours}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.hourText ? timerTextConfig.hourText : 'hh'}} </span> \n  <span>{{timerObj.mins}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.minuteText ? timerTextConfig.minuteText : 'mm'}}  </span> \n  <span>{{timerObj.seconds}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.secondsText ? timerTextConfig.secondsText : 'ss'}}</span>\n</div>",styles:[""]}]}],m.ctorParameters=function(){return[{type:r}]},m.propDecorators={startTime:[{type:i.Input}],countUpTimerConfig:[{type:i.Input}]},m);function m(e){var t=this;this.countupTimerService=e,this.timerObj={},this.getTimerValue=function(){t.timerSubscription=t.countupTimerService.getTimerValue().subscribe(function(e){t.timerObj=Object.assign(e)},function(e){console.log(e),console.log("Failed to get timer value")})}}var c=function O(){},l=function j(){},T={START:"START",PAUSE:"PAUSE",STOP:"STOP"},f=(p.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],p.ctorParameters=function(){return[]},p.ngInjectableDef=i.defineInjectable({factory:function(){return new p},token:p,providedIn:"root"}),p);function p(){var r=this;this.onTimerStatusChange=new i.EventEmitter,this.timerValue={seconds:"00",mins:"00",hours:"00"},this.isTimerStart=!1,this.totalSeconds=0,this.currentOperationId=0,this.startTimer=function(e){if(e){var t=new Date,i=new Date(e);r.totalSeconds=-1*Math.round((t.getTime()-i.getTime())/1e3)}return r.isTimerStart=!0,r.onTimerStatusChange.emit(T.START),!0},this.pauseTimer=function(e,t){if(e&&t){var i=new Date(t),n=new Date(e);r.totalSeconds=Math.round((i.getTime()-n.getTime())/1e3)}return r.isTimerStart=!1,r.onTimerStatusChange.emit(T.PAUSE),!1},this.stopTimer=function(){r.isTimerStart=!1,r.totalSeconds=0,r.onTimerStatusChange.emit(T.STOP)},this.resumeTimer=function(){r.isTimerStart=!0},this.getTimerValue=function(){return new n.Observable(function(i){r.intervalSubscription&&r.intervalSubscription.unsubscribe(),r.intervalSubscription=r.interval.subscribe(function(e){if(r.isTimerStart&&0<r.totalSeconds){--r.totalSeconds,r.timerValue.seconds=r.setTimervalue(r.totalSeconds%60);var t=0;t=60<=Math.trunc(r.totalSeconds/60)?r.totalSeconds/60%60:r.totalSeconds/60,r.timerValue.mins=r.setTimervalue(Math.trunc(t)),r.timerValue.hours=r.setTimervalue(Math.trunc(r.totalSeconds/3600)),i.next(r.timerValue),i.complete()}else{if(0<r.totalSeconds){r.timerValue.seconds=r.setTimervalue(r.totalSeconds%60);t=0;t=60<=Math.trunc(r.totalSeconds/60)?r.totalSeconds/60%60:r.totalSeconds/60,r.timerValue.mins=r.setTimervalue(Math.trunc(t)),r.timerValue.hours=r.setTimervalue(Math.trunc(r.totalSeconds/3600))}else r.timerValue.hours="00",r.timerValue.mins="00",r.timerValue.seconds="00",r.stopTimer();i.next(r.timerValue),i.complete()}},function(e){i.error(e),i.complete()})})},this.setTimervalue=function(e){var t=e+"";return t.length<2?"0"+t:t},this.interval=n.interval(1e3)}var g=(d.prototype.ngOnInit=function(){this.getTimerValue(),this.timerConfig=new c,this.timerTextConfig=new l,this.timerConfig=this.countDownTimerConfig?Object.assign(this.countDownTimerConfig):null,this.timerTextConfig=this.countDownTimerConfig&&this.countDownTimerConfig.timerTexts?Object.assign(this.countDownTimerConfig.timerTexts):null},d.prototype.ngOnDestroy=function(){this.timerSubscription.unsubscribe()},d.decorators=[{type:i.Component,args:[{selector:"countdown-timer",template:"<div [class]=\"timerConfig?.timerClass ? timerConfig.timerClass : ''\">\r\n  <span>{{timerObj.hours}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.hourText ? timerTextConfig.hourText : 'hh'}} </span> \r\n  <span>{{timerObj.mins}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.minuteText ? timerTextConfig.minuteText : 'mm'}}  </span> \r\n  <span>{{timerObj.seconds}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.secondsText ? timerTextConfig.secondsText : 'ss'}}</span>\r\n</div>",styles:[""]}]}],d.ctorParameters=function(){return[{type:f}]},d.propDecorators={startTime:[{type:i.Input}],countDownTimerConfig:[{type:i.Input}]},d);function d(e){var t=this;this.countdownTimerService=e,this.timerObj={},this.getTimerValue=function(){t.timerSubscription=t.countdownTimerService.getTimerValue().subscribe(function(e){t.timerObj=Object.assign(e)},function(e){console.log(e),console.log("Failed to get timer value")})}}var h=(S.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],S.ctorParameters=function(){return[]},S.ngInjectableDef=i.defineInjectable({factory:function(){return new S},token:S,providedIn:"root"}),S);function S(){var r=this;this.timerValue={miliseconds:"00",seconds:"00",mins:"00",hours:"00"},this.isTimerStart=!1,this.totalSeconds=0,this.currentOperationId=0,this.startTimer=function(){return r.isTimerStart=!0},this.pauseTimer=function(e,t){if(e&&t){var i=new Date(t),n=new Date(e);r.totalSeconds=Math.round((i.getTime()-n.getTime())/1e3)}return r.isTimerStart=!1},this.stopTimer=function(){r.isTimerStart=!1,r.totalSeconds=0},this.resumeTimer=function(){r.isTimerStart=!0},this.getTimerValue=function(){return new n.Observable(function(i){r.intervalSubscription&&r.intervalSubscription.unsubscribe(),r.intervalSubscription=r.interval.subscribe(function(e){if(r.isTimerStart&&0<r.totalSeconds){--r.totalSeconds,r.timerValue.seconds=r.setTimervalue(r.totalSeconds%60);var t=0;t=60<=Math.trunc(r.totalSeconds/60)?r.totalSeconds/60%60:r.totalSeconds/60,r.timerValue.mins=r.setTimervalue(Math.trunc(t)),r.timerValue.hours=r.setTimervalue(Math.trunc(r.totalSeconds/3600)),i.next(r.timerValue),i.complete()}else{if(0<r.totalSeconds){r.timerValue.seconds=r.setTimervalue(r.totalSeconds%60);t=0;t=60<=Math.trunc(r.totalSeconds/60)?r.totalSeconds/60%60:r.totalSeconds/60,r.timerValue.mins=r.setTimervalue(Math.trunc(t)),r.timerValue.hours=r.setTimervalue(Math.trunc(r.totalSeconds/3600))}else r.timerValue.hours="00",r.timerValue.mins="00",r.timerValue.seconds="00";i.next(r.timerValue),i.complete()}},function(e){i.error(e),i.complete()})})},this.setTimervalue=function(e){var t=e+"";return t.length<2?"0"+t:t},this.interval=n.interval(1e4)}var v=(b.prototype.ngOnInit=function(){this.getTimerValue()},b.prototype.ngOnDestroy=function(){this.timerSubscription.unsubscribe()},b.decorators=[{type:i.Component,args:[{selector:"stop-watch",template:"\x3c!-- <div [class]=\"timerConfig?.timerClass ? timerConfig.timerClass : ''\">\n  <span>{{timerObj.hours}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.hourText ? timerTextConfig.hourText : 'hh'}} </span> \n  <span>{{timerObj.mins}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.minuteText ? timerTextConfig.minuteText : 'mm'}}  </span> \n  <span>{{timerObj.seconds}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.secondsText ? timerTextConfig.secondsText : 'ss'}}</span>\n  <span>{{timerObj.miliseconds}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.milisecondsText ? timerTextConfig.milisecondsText : 'ss'}}</span>\n</div> --\x3e",styles:[""]}]}],b.ctorParameters=function(){return[{type:h}]},b);function b(e){var t=this;this.countdownTimerService=e,this.timerObj={},this.getTimerValue=function(){t.timerSubscription=t.countdownTimerService.getTimerValue().subscribe(function(e){t.timerObj=Object.assign(e)},function(e){console.log(e),console.log("Failed to get timer value")})}}var C=(x.decorators=[{type:i.NgModule,args:[{declarations:[u,g,v],imports:[t.CommonModule],exports:[u,g,v],entryComponents:[u,g,v],providers:[r,f,h]}]}],x);function x(){}e.NgxTimerModule=C,e.CountupTimerComponent=u,e.CountupTimerService=r,e.countUpTimerConfigModel=s,e.timerTexts=a,e.CountdownTimerComponent=g,e.CountdownTimerService=f,e.countDownTimerConfigModel=c,e.countDownTimerTexts=l,e.TimerStaus=T,e.ɵa=v,e.ɵb=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-timer.umd.min.js.map