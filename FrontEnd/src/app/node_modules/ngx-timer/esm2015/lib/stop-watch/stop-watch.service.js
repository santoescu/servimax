/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { Observable, interval } from 'rxjs';
import * as i0 from "@angular/core";
export class StopWatchService {
    constructor() {
        //Init
        this.timerValue = {
            miliseconds: '00',
            seconds: '00',
            mins: '00',
            hours: '00',
        };
        this.isTimerStart = false;
        this.totalSeconds = 0;
        this.currentOperationId = 0;
        //start timer
        this.startTimer = (/**
         * @return {?}
         */
        () => {
            debugger;
            this.isTimerStart = true;
            return true;
        });
        //end timer
        this.pauseTimer = (/**
         * @param {?=} startTime
         * @param {?=} endTime
         * @return {?}
         */
        (startTime, endTime) => {
            if (startTime && endTime) {
                /** @type {?} */
                let endedDate = new Date(endTime);
                /** @type {?} */
                let startedTime = new Date(startTime);
                this.totalSeconds = Math.round((endedDate.getTime() - startedTime.getTime()) / 1000);
            }
            this.isTimerStart = false;
            return false;
        });
        //reset Timer
        this.stopTimer = (/**
         * @return {?}
         */
        () => {
            this.isTimerStart = false;
            this.totalSeconds = 0;
        });
        //resume Timer
        this.resumeTimer = (/**
         * @return {?}
         */
        () => {
            this.isTimerStart = true;
        });
        //get timer value Obj
        this.getTimerValue = (/**
         * @return {?}
         */
        () => {
            return new Observable((/**
             * @param {?} obs
             * @return {?}
             */
            obs => {
                if (this.intervalSubscription) {
                    this.intervalSubscription.unsubscribe();
                }
                this.intervalSubscription = this.interval.subscribe((/**
                 * @param {?} int
                 * @return {?}
                 */
                int => {
                    if (this.isTimerStart && this.totalSeconds > 0) {
                        --this.totalSeconds;
                        this.timerValue.seconds = this.setTimervalue(this.totalSeconds % 60);
                        /** @type {?} */
                        let totalSecondsForMinutes = 0;
                        totalSecondsForMinutes = (Math.trunc(this.totalSeconds / 60) >= 60) ? (this.totalSeconds / 60) % 60 : this.totalSeconds / 60;
                        this.timerValue.mins = this.setTimervalue(Math.trunc(totalSecondsForMinutes));
                        this.timerValue.hours = this.setTimervalue(Math.trunc(this.totalSeconds / 3600));
                        obs.next(this.timerValue);
                        obs.complete();
                    }
                    else {
                        if (this.totalSeconds > 0) {
                            this.timerValue.seconds = this.setTimervalue(this.totalSeconds % 60);
                            /** @type {?} */
                            let totalSecondsForMinutes = 0;
                            totalSecondsForMinutes = (Math.trunc(this.totalSeconds / 60) >= 60) ? (this.totalSeconds / 60) % 60 : this.totalSeconds / 60;
                            this.timerValue.mins = this.setTimervalue(Math.trunc(totalSecondsForMinutes));
                            this.timerValue.hours = this.setTimervalue(Math.trunc(this.totalSeconds / 3600));
                        }
                        else {
                            this.timerValue.hours = "00";
                            this.timerValue.mins = "00";
                            this.timerValue.seconds = "00";
                        }
                        obs.next(this.timerValue);
                        obs.complete();
                    }
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                error => {
                    obs.error(error);
                    obs.complete();
                }));
            }));
        });
        //set timer value
        this.setTimervalue = (/**
         * @param {?} val
         * @return {?}
         */
        (val) => {
            /** @type {?} */
            let valString = val + "";
            return (valString.length < 2) ? "0" + valString : valString;
        });
        this.interval = interval(10000);
    }
}
StopWatchService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */
StopWatchService.ctorParameters = () => [];
/** @nocollapse */ StopWatchService.ngInjectableDef = i0.defineInjectable({ factory: function StopWatchService_Factory() { return new StopWatchService(); }, token: StopWatchService, providedIn: "root" });
if (false) {
    /** @type {?} */
    StopWatchService.prototype.timerValue;
    /** @type {?} */
    StopWatchService.prototype.isTimerStart;
    /** @type {?} */
    StopWatchService.prototype.interval;
    /** @type {?} */
    StopWatchService.prototype.intervalSubscription;
    /** @type {?} */
    StopWatchService.prototype.totalSeconds;
    /** @type {?} */
    StopWatchService.prototype.currentOperationId;
    /** @type {?} */
    StopWatchService.prototype.startTimer;
    /** @type {?} */
    StopWatchService.prototype.pauseTimer;
    /** @type {?} */
    StopWatchService.prototype.stopTimer;
    /** @type {?} */
    StopWatchService.prototype.resumeTimer;
    /** @type {?} */
    StopWatchService.prototype.getTimerValue;
    /** @type {?} */
    StopWatchService.prototype.setTimervalue;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcC13YXRjaC5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LXRpbWVyLyIsInNvdXJjZXMiOlsibGliL3N0b3Atd2F0Y2gvc3RvcC13YXRjaC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sTUFBTSxDQUFDOztBQUs1QyxNQUFNLE9BQU8sZ0JBQWdCO0lBZTNCOztRQVpPLGVBQVUsR0FBRztZQUNsQixXQUFXLEVBQUUsSUFBSTtZQUNqQixPQUFPLEVBQUUsSUFBSTtZQUNiLElBQUksRUFBRSxJQUFJO1lBQ1YsS0FBSyxFQUFFLElBQUk7U0FDWixDQUFBO1FBQ00saUJBQVksR0FBWSxLQUFLLENBQUM7UUFHOUIsaUJBQVksR0FBVyxDQUFDLENBQUM7UUFDekIsdUJBQWtCLEdBQVcsQ0FBQyxDQUFDOztRQU90QyxlQUFVOzs7UUFBRyxHQUFHLEVBQUU7WUFDaEIsUUFBUSxDQUFDO1lBQ1QsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7WUFDekIsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLEVBQUE7O1FBR0QsZUFBVTs7Ozs7UUFBRyxDQUFDLFNBQWUsRUFBRSxPQUFhLEVBQUUsRUFBRTtZQUM5QyxJQUFJLFNBQVMsSUFBSSxPQUFPLEVBQUU7O29CQUNwQixTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDOztvQkFDN0IsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFDckMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxHQUFHLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO2FBQ3RGO1lBQ0QsSUFBSSxDQUFDLFlBQVksR0FBRyxL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aW1wb3J0IHsgT2JzZXJ2YWJsZSwgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgU3RvcFdhdGNoU2VydmljZSB7XG5cbiAgLy9Jbml0XG4gIHB1YmxpYyB0aW1lclZhbHVlID0ge1xuICAgIG1pbGlzZWNvbmRzOiAnMDAnLFxuICAgIHNlY29uZHM6ICcwMCcsXG4gICAgbWluczogJzAwJyxcbiAgICBob3VyczogJzAwJyxcbiAgfVxuICBwdWJsaWMgaXNUaW1lclN0YXJ0OiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyBpbnRlcnZhbDogT2JzZXJ2YWJsZTxhbnk+O1xuICBwdWJsaWMgaW50ZXJ2YWxTdWJzY3JpcHRpb247XG4gIHB1YmxpYyB0b3RhbFNlY29uZHM6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBjdXJyZW50T3BlcmF0aW9uSWQ6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbnRlcnZhbCA9IGludGVydmFsKDEwMDAwKTtcbiAgfVxuXG4gIC8vc3RhcnQgdGltZXJcbiAgc3RhcnRUaW1lciA9ICgpID0+IHtcbiAgICBkZWJ1Z2dlcjtcbiAgICB0aGlzLmlzVGltZXJTdGFydCA9IHRydWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvL2VuZCB0aW1lclxuICBwYXVzZVRpbWVyID0gKHN0YXJ0VGltZT86IGFueSwgZW5kVGltZT86IGFueSkgPT4ge1xuICAgIGlmIChzdGFydFRpbWUgJiYgZW5kVGltZSkge1xuICAgICAgbGV0IGVuZGVkRGF0ZSA9IG5ldyBEYXRlKGVuZFRpbWUpO1xuICAgICAgbGV0IHN0YXJ0ZWRUaW1lID0gbmV3IERhdGUoc3RhcnRUaW1lKTtcbiAgICAgIHRoaXMudG90YWxTZWNvbmRzID0gTWF0aC5yb3VuZCgoZW5kZWREYXRlLmdldFRpbWUoKSAtIHN0YXJ0ZWRUaW1lLmdldFRpbWUoKSkgLyAxMDAwKTtcbiAgICB9XG4gICAgdGhpcy5pc1RpbWVyU3RhcnQgPSBmYWxzZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvL3Jlc2V0IFRpbWVyXG4gIHN0b3BUaW1lciA9ICgpID0+IHtcbiAgICB0aGlzLmlzVGltZXJTdGFydCA9IGZhbHNlO1xuICAgIHRoaXMudG90YWxTZWNvbmRzID0gMDtcbiAgfVxuXG4gIC8vcmVzdW1lIFRpbWVyXG4gIHJlc3VtZVRpbWVyID0gKCkgPT4ge1xuICAgIHRoaXMuaXNUaW1lclN0YXJ0ID0gdHJ1ZTtcbiAgfVxuXG4gIC8vZ2V0IHRpbWVyIHZhbHVlIE9ialxuICBnZXRUaW1lclZhbHVlID0gKCk6IE9ic2VydmFibGU8YW55PiA9PiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKG9icyA9PiB7XG4gICAgICBpZiAodGhpcy5pbnRlcnZhbFN1YnNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmludGVydmFsU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmludGVydmFsU3Vic2NyaXB0aW9uID0gdGhpcy5pbnRlcnZhbC5zdWJzY3JpYmUoaW50ID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNUaW1lclN0YXJ0ICYmIHRoaXMudG90YWxTZWNvbmRzID4gMCkge1xuICAgICAgICAgIC0tdGhpcy50b3RhbFNlY29uZHM7XG4gICAgICAgICAgdGhpcy50aW1lclZhbHVlLnNlY29uZHMgPSB0aGlzLnNldFRpbWVydmFsdWUodGhpcy50b3RhbFNlY29uZHMgJSA2MCk7XG4gICAgICAgICAgbGV0IHRvdGFsU2Vjb25kc0Zvck1pbnV0ZXMgPSAwO1xuICAgICAgICAgIHRvdGFsU2Vjb25kc0Zvck1pbnV0ZXMgPSAoTWF0aC50cnVuYyh0aGlzLnRvdGFsU2Vjb25kcyAvIDYwKSA+PSA2MCkgPyAodGhpcy50b3RhbFNlY29uZHMgLyA2MCkgJSA2MCA6IHRoaXMudG90YWxTZWNvbmRzIC8gNjA7XG4gICAgICAgICAgdGhpcy50aW1lclZhbHVlLm1pbnMgPSB0aGlzLnNldFRpbWVydmFsdWUoTWF0aC50cnVuYyh0b3RhbFNlY29uZHNGb3JNaW51dGVzKSk7XG4gICAgICAgICAgdGhpcy50aW1lclZhbHVlLmhvdXJzID0gdGhpcy5zZXRUaW1lcnZhbHVlKE1hdGgudHJ1bmModGhpcy50b3RhbFNlY29uZHMgLyAzNjAwKSk7XG4gICAgICAgICAgb2JzLm5leHQodGhpcy50aW1lclZhbHVlKTtcbiAgICAgICAgICBvYnMuY29tcGxldGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy50b3RhbFNlY29uZHMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVyVmFsdWUuc2Vjb25kcyA9IHRoaXMuc2V0VGltZXJ2YWx1ZSh0aGlzLnRvdGFsU2Vjb25kcyAlIDYwKTtcbiAgICAgICAgICAgIGxldCB0b3RhbFNlY29uZHNGb3JNaW51dGVzID0gMDtcbiAgICAgICAgICAgIHRvdGFsU2Vjb25kc0Zvck1pbnV0ZXMgPSAoTWF0aC50cnVuYyh0aGlzLnRvdGFsU2Vjb25kcyAvIDYwKSA+PSA2MCkgPyAodGhpcy50b3RhbFNlY29uZHMgLyA2MCkgJSA2MCA6IHRoaXMudG90YWxTZWNvbmRzIC8gNjA7XG4gICAgICAgICAgICB0aGlzLnRpbWVyVmFsdWUubWlucyA9IHRoaXMuc2V0VGltZXJ2YWx1ZShNYXRoLnRydW5jKHRvdGFsU2Vjb25kc0Zvck1pbnV0ZXMpKTtcbiAgICAgICAgICAgIHRoaXMudGltZXJWYWx1ZS5ob3VycyA9IHRoaXMuc2V0VGltZXJ2YWx1ZShNYXRoLnRydW5jKHRoaXMudG90YWxTZWNvbmRzIC8gMzYwMCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVyVmFsdWUuaG91cnMgPSBcIjAwXCI7XG4gICAgICAgICAgICB0aGlzLnRpbWVyVmFsdWUubWlucyA9IFwiMDBcIjtcbiAgICAgICAgICAgIHRoaXMudGltZXJWYWx1ZS5zZWNvbmRzID0gXCIwMFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYnMubmV4dCh0aGlzLnRpbWVyVmFsdWUpO1xuICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgIG9icy5lcnJvcihlcnJvcik7XG4gICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvL3NldCB0aW1lciB2YWx1ZVxuICBzZXRUaW1lcnZhbHVlID0gKHZhbCkgPT4ge1xuICAgIGxldCB2YWxTdHJpbmcgPSB2YWwgKyBcIlwiO1xuICAgIHJldHVybiAodmFsU3RyaW5nLmxlbmd0aCA8IDIpID8gXCIwXCIgKyB2YWxTdHJpbmcgOiB2YWxTdHJpbmc7XG4gIH1cbn1cbiJdfQ==