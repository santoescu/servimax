/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { countDownTimerConfigModel, countDownTimerTexts } from './countdown-timer.model';
import { CountdownTimerService } from './countdown-timer.service';
export class CountdownTimerComponent {
    /**
     * @param {?} countdownTimerService
     */
    constructor(countdownTimerService) {
        this.countdownTimerService = countdownTimerService;
        this.timerObj = {};
        //get timer value
        this.getTimerValue = (/**
         * @return {?}
         */
        () => {
            this.timerSubscription = this.countdownTimerService.getTimerValue().subscribe((/**
             * @param {?} res
             * @return {?}
             */
            res => {
                this.timerObj = Object.assign(res);
            }), (/**
             * @param {?} error
             * @return {?}
             */
            error => {
                console.log(error);
                console.log('Failed to get timer value');
            }));
        });
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.getTimerValue();
        this.timerConfig = new countDownTimerConfigModel();
        this.timerTextConfig = new countDownTimerTexts();
        this.timerConfig = this.countDownTimerConfig ? Object.assign(this.countDownTimerConfig) : null;
        this.timerTextConfig = this.countDownTimerConfig && this.countDownTimerConfig.timerTexts ? Object.assign(this.countDownTimerConfig.timerTexts) : null;
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.timerSubscription.unsubscribe();
    }
}
CountdownTimerComponent.decorators = [
    { type: Component, args: [{
                selector: 'countdown-timer',
                template: "<div [class]=\"timerConfig?.timerClass ? timerConfig.timerClass : ''\">\r\n  <span>{{timerObj.hours}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.hourText ? timerTextConfig.hourText : 'hh'}} </span> \r\n  <span>{{timerObj.mins}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.minuteText ? timerTextConfig.minuteText : 'mm'}}  </span> \r\n  <span>{{timerObj.seconds}}</span><span class=\"time-category\">{{timerTextConfig && timerTextConfig.secondsText ? timerTextConfig.secondsText : 'ss'}}</span>\r\n</div>",
                styles: [""]
            }] }
];
/** @nocollapse */
CountdownTimerComponent.ctorParameters = () => [
    { type: CountdownTimerService }
];
CountdownTimerComponent.propDecorators = {
    startTime: [{ type: Input }],
    countDownTimerConfig: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    CountdownTimerComponent.prototype.startTime;
    /** @type {?} */
    CountdownTimerComponent.prototype.countDownTimerConfig;
    /**
     * @type {?}
     * @private
     */
    CountdownTimerComponent.prototype.timerSubscription;
    /** @type {?} */
    CountdownTimerComponent.prototype.timerObj;
    /** @type {?} */
    CountdownTimerComponent.prototype.timerConfig;
    /** @type {?} */
    CountdownTimerComponent.prototype.timerTextConfig;
    /** @type {?} */
    CountdownTimerComponent.prototype.getTimerValue;
    /**
     * @type {?}
     * @private
     */
    CountdownTimerComponent.prototype.countdownTimerService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY291bnRkb3duLXRpbWVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC10aW1lci8iLCJzb3VyY2VzIjpbImxpYi9jb3VudGRvd24tdGltZXIvY291bnRkb3duLXRpbWVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUFFLHlCQUF5QixFQUFFLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDekYsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFRbEUsTUFBTSxPQUFPLHVCQUF1Qjs7OztJQVdsQyxZQUFvQixxQkFBNEM7UUFBNUMsMEJBQXFCLEdBQXJCLHFCQUFxQixDQUF1QjtRQUpoRSxhQUFRLEdBQVEsRUFBRSxDQUFDOztRQWVuQixrQkFBYTs7O1FBQUcsR0FBRyxFQUFFO1lBQ25CLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsYUFBYSxFQUFFLENBQUMsU0FBUzs7OztZQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUNsRixJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDckMsQ0FBQzs7OztZQUFFLEtBQUssQ0FBQyxFQUFFO2dCQUNULE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQztZQUMzQyxDQUFDLEVBQUMsQ0FBQztRQUNMLENBQUMsRUFBQTtJQWxCa0UsQ0FBQzs7OztJQUVwRSxRQUFRO1FBQ04sSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSx5QkFBeUIsRUFBRSxDQUFDO1FBQ25ELElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxtQkFBbUIsRUFBRSxDQUFDO1FBQ2pELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDL0YsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsb0JBQW9CLElBQUksSUFBSSxDQUFDLG9CQUFvQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFFLElBQUksQ0FBQztJQUN6SixDQUFDOzs7O0lBWUQsV0FBVztRQUNULElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QyxDQUFDOzs7WUF0Q0YsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxpQkFBaUI7Z0JBQzNCLDhqQkFBK0M7O2FBRWhEOzs7O1lBUFEscUJBQXFCOzs7d0JBVTNCLEtBQUs7bUNBQ0wsS0FBSzs7OztJQUROLDRDQUEyQjs7SUFDM0IsdURBQXlEOzs7OztJQUd6RCxvREFBdUM7O0lBQ3ZDLDJDQUFtQjs7SUFDbkIsOENBQXVDOztJQUN2QyxrREFBcUM7O0lBYXJDLGdEQU9DOzs7OztJQWxCVyx3REFBb0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgY291bnREb3duVGltZXJDb25maWdNb2RlbCwgY291bnREb3duVGltZXJUZXh0cyB9IGZyb20gJy4vY291bnRkb3duLXRpbWVyLm1vZGVsJztcclxuaW1wb3J0IHsgQ291bnRkb3duVGltZXJTZXJ2aWNlIH0gZnJvbSAnLi9jb3VudGRvd24tdGltZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdjb3VudGRvd24tdGltZXInLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9jb3VudGRvd24tdGltZXIuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2NvdW50ZG93bi10aW1lci5jb21wb25lbnQuc2NzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDb3VudGRvd25UaW1lckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIEBJbnB1dCgpIHN0YXJ0VGltZTogU3RyaW5nO1xyXG4gIEBJbnB1dCgpIGNvdW50RG93blRpbWVyQ29uZmlnOiBjb3VudERvd25UaW1lckNvbmZpZ01vZGVsO1xyXG5cclxuICAvL0luaXRcclxuICBwcml2YXRlIHRpbWVyU3Vic2NyaXB0aW9uOlN1YnNjcmlwdGlvbjtcclxuICB0aW1lck9iajogYW55ID0ge307XHJcbiAgdGltZXJDb25maWc6IGNvdW50RG93blRpbWVyQ29uZmlnTW9kZWw7XHJcbiAgdGltZXJUZXh0Q29uZmlnOiBjb3VudERvd25UaW1lclRleHRzO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvdW50ZG93blRpbWVyU2VydmljZTogQ291bnRkb3duVGltZXJTZXJ2aWNlKSB7fVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuZ2V0VGltZXJWYWx1ZSgpO1xyXG4gICAgdGhpcy50aW1lckNvbmZpZyA9IG5ldyBjb3VudERvd25UaW1lckNvbmZpZ01vZGVsKCk7XHJcbiAgICB0aGlzLnRpbWVyVGV4dENvbmZpZyA9IG5ldyBjb3VudERvd25UaW1lclRleHRzKCk7XHJcbiAgICB0aGlzLnRpbWVyQ29uZmlnID0gdGhpcy5jb3VudERvd25UaW1lckNvbmZpZyA/IE9iamVjdC5hc3NpZ24odGhpcy5jb3VudERvd25UaW1lckNvbmZpZykgOiBudWxsO1xyXG4gICAgdGhpcy50aW1lclRleHRDb25maWcgPSB0aGlzLmNvdW50RG93blRpbWVyQ29uZmlnICYmIHRoaXMuY291bnREb3duVGltZXJDb25maWcudGltZXJUZXh0cyA/IE9iamVjdC5hc3NpZ24odGhpcy5jb3VudERvd25UaW1lckNvbmZpZy50aW1lclRleHRzKSA6ICBudWxsO1xyXG4gIH1cclxuXHJcbiAgLy9nZXQgdGltZXIgdmFsdWVcclxuICBnZXRUaW1lclZhbHVlID0gKCkgPT4ge1xyXG4gICAgdGhpcy50aW1lclN1YnNjcmlwdGlvbiA9IHRoaXMuY291bnRkb3duVGltZXJTZXJ2aWNlLmdldFRpbWVyVmFsdWUoKS5zdWJzY3JpYmUocmVzID0+IHtcclxuICAgICAgdGhpcy50aW1lck9iaiA9IE9iamVjdC5hc3NpZ24ocmVzKTtcclxuICAgIH0sIGVycm9yID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGdldCB0aW1lciB2YWx1ZScpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpIHtcclxuICAgIHRoaXMudGltZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG59XHJcbiJdfQ==