{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://@covalent/markdown/markdown-utils.ts","ng://@covalent/markdown/markdown.component.ts","ng://@covalent/markdown/markdown.module.ts","ng://@covalent/markdown/markdown-loader.service.ts"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","removeLeadingHash","str","replace","undefined","removeTrailingHash","normalizeAnchor","toLowerCase","scrollToAnchor","element","anchor","normalizedAnchor","parent_1","parentElement","headingToJumpTo","headingWithinComponent","querySelector","scrollIntoView","behavior","console","warn","isAnchorLink","getAttribute","startsWith","rawGithubHref","githubHref","url","URL","pathname","hostname","split","join","href","isGithubHref","_a","showdown","require","generateAbsoluteHref","currentHref","relativeHref","path","slice","correctUrl","orgAndRepo","TdMarkdownComponent","defineProperty","content","_content","simpleLineBreaks","_simpleLineBreaks","hostedUrl","_hostedUrl","_anchor","ngOnChanges","changes","refresh","_elementRef","nativeElement","ngAfterViewInit","_loadContent","textContent","_viewInit","ngOnDestroy","removeAnchorListeners","markdown","_this","trim","_renderer","setProperty","_elementFromString","_render","handleAnchorClicksBound","handleAnchorClicks","bind","attachAnchorListeners","setTimeout","onContentReady","emit","event","preventDefault","hash","decodeURI","Array","from","querySelectorAll","filter","link","forEach","addEventListener","removeEventListener","markupStr","div","createElement","appendChild","htmlWithHeadingIds","addIdsToHeadings","html","document_3","DOMParser","parseFromString","heading","id","innerHTML","setAttribute","XMLSerializer","serializeToString","normalizeImageSrcs","document_2","image","src","normalizeHtmlHrefs","document_1","originalHash","host","window","location","endsWith","hrefWithoutHash","target","_domSanitizer","sanitize","SecurityContext","HTML","lines","firstLineWhitespace","match","startingWhitespaceRegex","RegExp","markdownToParse","map","line","converter","Converter","setOption","makeHtml","Component","args","selector","template","Renderer2","ElementRef","DomSanitizer","HostBinding","Input","Output","class","EventEmitter","CovalentMarkdownModule","NgModule","imports","CommonModule","declarations","exports","MarkdownLoaderService","load","httpOptions","sanitizedUrl","_sanitizer","urlToGet","_http","get","responseType","observe","toPromise","response","contentType","headers","includes","Error","Injectable","providedIn","HttpClient","Sanitizer"],"mappings":"ugBA6BO,IAAIA,EAAW,WAQlB,OAPAA,EAAWC,OAAOC,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,IAE9E,OAAON,IAEKU,MAAMC,KAAMP,YAGhC,SAyBgBQ,EAAUC,EAASC,EAAYC,EAAGC,GAC9C,OAAO,IAAWD,EAANA,GAAUE,SAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,IAAW,MAAOG,GAAKL,EAAOK,IACpF,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,SAAEK,IAAW,MAAOG,GAAKL,EAAOK,IACvF,SAASF,EAAKI,GAAUA,EAAOC,KAAOT,EAAQQ,EAAOL,OAAS,IAAIN,EAAE,SAAUG,GAAWA,EAAQQ,EAAOL,SAAWO,KAAKR,EAAWK,GACnIH,GAAMN,EAAYA,EAAUN,MAAMG,EAASC,GAAc,KAAKS,UAItE,SAAgBM,EAAYhB,EAASiB,GACjC,IAAsGC,EAAGC,EAAGhC,EAAGiC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPpC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOqC,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEV,KAAMgB,EAAK,GAAIC,QAASD,EAAK,GAAIE,SAAUF,EAAK,IAAwB,mBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WAAa,OAAOhC,OAAUsB,EACvJ,SAASM,EAAKpC,GAAK,OAAO,SAAUyC,GAAK,OACzC,SAAStB,EAAKuB,GACV,GAAId,EAAG,MAAM,IAAIe,UAAU,mCAC3B,KAAOZ,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAMhC,EAAY,EAAR6C,EAAG,GAASb,EAAU,UAAIa,EAAG,GAAKb,EAAS,YAAOhC,EAAIgC,EAAU,YAAMhC,EAAES,KAAKuB,GAAI,GAAKA,EAAET,SAAWvB,EAAIA,EAAES,KAAKuB,EAAGa,EAAG,KAAKlB,KAAM,OAAO3B,EAE3J,OADIgC,EAAI,EAAGhC,IAAG6C,EAAK,CAAS,EAARA,EAAG,GAAQ7C,EAAEqB,QACzBwB,EAAG,IACP,KAAK,EAAG,KAAK,EAAG7C,EAAI6C,EAAI,MACxB,KAAK,EAAc,OAAXX,EAAEC,QAAgB,CAAEd,MAAOwB,EAAG,GAAIlB,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIa,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKX,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAkB/C,EAAe,GAA3BA,EAAIkC,EAAEG,MAAYhC,QAAcL,EAAEA,EAAEK,OAAS,MAAkB,IAAVwC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEX,EAAI,EAAG,SACjG,GAAc,IAAVW,EAAG,MAAc7C,GAAM6C,EAAG,GAAK7C,EAAE,IAAM6C,EAAG,GAAK7C,EAAE,IAAM,CAAEkC,EAAEC,MAAQU,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYX,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIA,EAAI6C,EAAI,MAC7D,GAAI7C,GAAKkC,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIkC,EAAEI,IAAIU,KAAKH,GAAK,MACvD7C,EAAE,IAAIkC,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBF,EAAKf,EAAKrB,KAAKI,EAASqB,GAC1B,MAAOV,GAAKqB,EAAK,CAAC,EAAGrB,GAAIQ,EAAI,UAAeD,EAAI/B,EAAI,EACtD,GAAY,EAAR6C,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAExB,MAAOwB,EAAG,GAAKA,EAAG,QAAK,EAAQlB,MAAM,GArB9BL,CAAK,CAACnB,EAAGyC,MC7E7D,SAAgBK,EAAkBC,GAChC,OAAIA,EACKA,EAAIC,QAAQ,MAAO,IAErBC,UAGT,SAAgBC,EAAmBH,GACjC,OAAIA,EACKA,EAAIC,QAAQ,OAAQ,IAEtBC,UAGT,SAAgBE,EAAgBJ,GAC9B,OAAIA,EACKD,EAAkBC,EAAIC,QAAQ,aAAc,KAAKI,cAEnDH,UAGT,SAAgBI,EAAeC,EAAsBC,GACnD,GAAID,GAAWC,EAAQ,KACfC,EAA2BL,EAAgBI,GAC3CE,EAAsBH,EAAQI,cAEhCC,OAAe,EACbC,EAAsCN,EAAQO,cAAc,QAAQL,EAAgB,MAEtFI,EACFD,EAAkBC,EACTH,IACTE,EAAkBF,EAAOI,cAAc,QAAQL,EAAgB,OAE7DG,EACFA,EAAgBG,eAAe,CAAEC,SAAU,SAI3CC,QAAQC,KAAK,8BAA8BV,EAAM,MAKvD,SAAgBW,EAAaX,GAC3B,GAAIA,EACF,OAAOA,EAAOY,aAAa,QAAQC,WAAW,KAIlD,SAAgBC,EAAcC,GAC5B,GAAIA,EAAY,KACRC,EAAW,IAAIC,IAAIF,GACzB,OAAIC,EAAIE,SAASL,WAAW,SACnBE,GAEPC,EAAIG,SAAW,4BACfH,EAAIE,SAAWF,EAAIE,SAASE,MAAM,QAAS,GAAGC,KAAK,IAC5CL,EAAIM,MAGf,OAAO5B,UAGT,SAAgB6B,EAAaD,GAC3B,IAEE,MAAyB,eADP,IAAIL,IAAIK,GACdH,SACZ,MAAAK,GACA,OAAO,OC3CPC,EAAgBC,QAAQ,6BAI5B,SAASC,EAAqBC,EAAqBC,GACjD,GAAID,GAAeC,EAAc,KAEzBC,EADkB,IAAIb,IAAIW,GACAV,SAC7BE,MAAM,KACNW,MAAM,GAAI,GACVV,KAAK,KACFW,EAAkB,IAAIf,IAAIW,GAEhC,GAAIC,EAAahB,WAAW,KAAM,KAE1BoB,EAAqBH,EACxBV,MAAM,KACNW,MAAM,EAAG,GACTV,KAAK,KACRW,EAAWd,SAAW,GAAGe,EAAaJ,OAEtCG,EAAWd,SAAcY,EAAI,IAAID,EAEnC,OAAOG,EAAWV,KAEpB,OAAO5B,UAgFT,IAAAwC,GAwBE9F,OAAA+F,eACID,EAAArF,UAAA,UAAO,KADX,SACYuF,GACVnF,KAAKoF,SAAWD,mCASlBhG,OAAA+F,eACID,EAAArF,UAAA,mBAAgB,KADpB,SACqByF,GACnBrF,KAAKsF,kBAAoBD,mCAS3BlG,OAAA+F,eACID,EAAArF,UAAA,YAAS,KADb,SACc2F,GACZvF,KAAKwF,WAAaD,mCASpBpG,OAAA+F,eACID,EAAArF,UAAA,SAAM,KADV,SACWmD,GACT/C,KAAKyF,QAAU1C,mCAWjBkC,EAAArF,UAAA8F,YAAA,SAAYC,IAENA,EAAQ5C,QAAW4C,EAAQR,SAAYQ,EAAQN,kBAAqBM,EAAQJ,UAG9EvF,KAAK4F,UAFL/C,EAAe7C,KAAK6F,YAAYC,cAAe9F,KAAKyF,UAMxDR,EAAArF,UAAAmG,gBAAA,WACO/F,KAAKoF,UACRpF,KAAKgG,aAA2BhG,KAAK6F,YAAyB,cAAEI,aAElEjG,KAAKkG,WAAY,GAGnBjB,EAAArF,UAAAuG,YAAA,WACEnG,KAAKoG,yBAGPnB,EAAArF,UAAAgG,QAAA,WACM5F,KAAKoF,SACPpF,KAAKgG,aAAahG,KAAKoF,UACdpF,KAAKkG,WACdlG,KAAKgG,aAA2BhG,KAAK6F,YAAyB,cAAEI,cAO5DhB,EAAArF,UAAAoG,aAAR,SAAqBK,GAArB,IAAAC,EAAAtG,KACMqG,GAAqC,EAAzBA,EAASE,OAAO7G,SAE9BM,KAAKwG,UAAUC,YAAYzG,KAAK6F,YAAYC,cAAe,YAAa,IAEvC9F,KAAK0G,mBAAmB1G,KAAK2G,QAAQN,KAExErG,KAAKoG,wBACLpG,KAAK4G,wBAA0B5G,KAAK6G,mBAAmBC,KAAK9G,MAC5DA,KAAK+G,wBAELC,WAAW,WAAM,OAAAnE,EAAeyD,EAAKT,YAAYC,cAAeQ,EAAKb,UAAU,KAC/EzF,KAAKiH,eAAeC,QAGRjC,EAAArF,UAAAiH,mBAAd,SAAiCM,mFAC/BA,EAAMC,iBACArD,EAAW,IAAIC,IAAwBmD,EAAY,OAAE9C,MACrDgD,EAAeC,UAAUvD,EAAIsD,MACnCxE,EAAe7C,KAAK6F,YAAYC,cAAeuB,YAGzCpC,EAAArF,UAAAmH,sBAAR,WAAA,IAAAT,EAAAtG,KAEEuH,MAAMC,KAAKxH,KAAK6F,YAAYC,cAAc2B,iBAAiB,YACxDC,OAAO,SAACC,GAA4B,OAAAjE,EAAaiE,KACjDC,QAAQ,SAACD,GAA4B,OAAAA,EAAKE,iBAAiB,QAASvB,EAAKM,4BAGtE3B,EAAArF,UAAAwG,sBAAR,WAAA,IAAAE,EAAAtG,KACEuH,MAAMC,KAAKxH,KAAK6F,YAAYC,cAAc2B,iBAAiB,YACxDC,OAAO,SAACC,GAA4B,OAAAjE,EAAaiE,KACjDC,QAAQ,SAACD,GAA4B,OAAAA,EAAKG,oBAAoB,QAASxB,EAAKM,4BAGzE3B,EAAArF,UAAA8G,mBAAR,SAA2BqB,OAGnBC,EAAsBhI,KAAKwG,UAAUyB,cAAc,OACzDjI,KAAKwG,UAAU0B,YAAYlI,KAAK6F,YAAYC,cAAekC,OAIrDG,EA5JV,SAASC,EAAiBC,GACxB,GAAIA,EAAM,KACFC,GAAqB,IAAIC,WAAYC,gBAAgBH,EAAM,aAKjE,OAJAC,EAASb,iBAAiB,0BAA0BG,QAAQ,SAACa,OACrDC,EAAa/F,EAAgB8F,EAAQE,WAC3CF,EAAQG,aAAa,KAAMF,MAEtB,IAAIG,eAAgBC,kBAAkBR,GAE/C,OAAOD,EAmJ8BD,CAjLvC,SAASW,EAAmBV,EAAc1D,GACxC,GAAIA,EAAa,KACTqE,GAAqB,IAAIT,WAAYC,gBAAgBH,EAAM,aAcjE,OAbAW,EAASvB,iBAAiB,YAAYG,QAAQ,SAACqB,OACvCC,EAAcD,EAAMtF,aAAa,OACvC,IAEE,IAAIK,IAAIkF,GACJ5E,EAAa4E,KACfD,EAAMC,IAAMrF,EAAcqF,IAE5B,MAAA3E,GACA0E,EAAMC,IAAMxE,EAAqBJ,EAAaK,GAAed,EAAcc,GAAeA,EAAauE,OAIpG,IAAIL,eAAgBC,kBAAkBE,GAE/C,OAAOX,EA8JmCU,CA5N5C,SAASI,EAAmBd,EAAc1D,GACxC,GAAIA,EAAa,KACTyE,GAAqB,IAAIb,WAAYC,gBAAgBH,EAAM,aAqCjE,OApCAe,EAAS3B,iBAAiB,WAAWG,QAAQ,SAACD,OACtC5D,EAAW,IAAIC,IAAI2D,EAAKtD,MACxBgF,EAAuBtF,EAAIsD,KACjC,GAAI3D,EAAaiE,GACX0B,IACFtF,EAAIsD,KAAO1E,EAAgB0G,GAC3B1B,EAAKtD,KAAON,EAAIsD,WAEb,GAAItD,EAAIuF,OAASC,OAAOC,SAASF,KAAM,CAG5C,GAAIvF,EAAIE,SAASwF,SAAS,OAAQ,KAG1BC,EAA0BhH,EAAmBiF,EAAKhE,aAAa,SAErEI,EAAIM,KAAOK,EAAqBC,EAAa+E,GAEzCL,IACFtF,EAAIsD,KAAO1E,EAAgB0G,IAE7B1B,EAAKtD,KAAON,EAAIM,KAElBsD,EAAKgC,OAAS,cAGV5F,EAAIE,SAASwF,SAAS,SACpBJ,IACFtF,EAAIsD,KAAO1E,EAAgB0G,IAE7B1B,EAAKtD,KAAON,EAAIM,MAElBsD,EAAKgC,OAAS,YAIX,IAAId,eAAgBC,kBAAkBM,GAE/C,OAAOf,EAkLiCc,CADjBnJ,KAAK4J,cAAcC,SAASC,EAAAA,gBAAgBC,KAAMhC,GACR/H,KAAKwF,YACcxF,KAAKwF,aAGvF,OADAwC,EAAIW,UAAYR,EACTH,GAGD/C,EAAArF,UAAA+G,QAAR,SAAgBN,OAIV2D,GAFJ3D,EAAWA,EAAS7D,QAAQ,gBAAiB,IAAIA,QAAQ,wBAAyB,KAEnD2B,MAAM,MAGjC8F,EAA8BD,EAAM,GAAGE,MAAM,aAAa,GAG1DC,EAAkC,IAAIC,OAAO,IAAMH,GAMnDI,GALJL,EAAQA,EAAMM,IAAI,SAASC,GACzB,OAAOA,EAAK/H,QAAQ2H,EAAyB,OAIX/F,KAAK,MAGrCoG,EAAiB,IAAIhG,EAASiG,UAMlC,OALAD,EAAUE,UAAU,gBAAgB,GACpCF,EAAUE,UAAU,aAAa,GACjCF,EAAUE,UAAU,UAAU,GAC9BF,EAAUE,UAAU,mBAAoB1K,KAAKsF,mBAC1BkF,EAAUG,SAASN,wBA7KzCO,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,cAEVC,SAAA,2/SA/HAC,EAAAA,iBAJAC,EAAAA,kBAWOC,EAAAA,iDAoINC,EAAAA,YAAWN,KAAA,CAAC,0BASZO,EAAAA,MAAKP,KAAA,CAAC,qCAWNO,EAAAA,MAAKP,KAAA,CAAC,uCAWNO,EAAAA,MAAKP,KAAA,CAAC,6BAWNO,EAAAA,MAAKP,KAAA,CAAC,kCASNQ,EAAAA,OAAMR,KAAA,CAAC,mBA8GV5F,GA5GE,SAAAA,EAAoBuB,EAA8BX,EAAiC+D,GAA/D5J,KAAAwG,UAAAA,EAA8BxG,KAAA6F,YAAAA,EAAiC7F,KAAA4J,cAAAA,EA7D3E5J,KAAAsF,mBAA6B,EAI7BtF,KAAAkG,WAAqB,EAIPlG,KAAAsL,SAAgB,cAmDdtL,KAAAiH,eAA0C,IAAIsE,EAAAA,aCrMxE,IAAAC,uBAKCC,EAAAA,SAAQZ,KAAA,CAAC,CACRa,QAAS,CACPC,EAAAA,cAEFC,aAAc,CACZ3G,GAEF4G,QAAS,CACP5G,OAKJuG,GAbA,SAAAA,YCKQM,EAAAlM,UAAAmM,KAAN,SAAWhI,EAAaiI,eAAA,IAAAA,IAAAA,EAAA,iGAOiB,OANjCC,EAAuBjM,KAAKkM,WAAWrC,SAASC,EAAAA,gBAAgB9F,IAAKD,GAEvEO,EADA6H,EAAmBF,KAErBE,EAAWtI,EAAcoI,IAGY,CAAA,EAAMjM,KAAKoM,MAC/CC,IAAIF,EAAQjN,EAAA,GAAO8M,EAAW,CAAEM,aAAc,OAAQC,QAAS,cAC/DC,oBAEH,GAJMC,EAAiClI,EAAA9C,QAGjCiL,EAAsBD,EAASE,QAAQN,IAAI,iBACjCO,SAAS,eAAiBF,EAAYE,SAAS,iBAC7D,MAAA,CAAA,EAAOH,EAAStL,MAEhB,MAAM0L,MAASH,EAAW,4DApB/BI,EAAAA,WAAUjC,KAAA,CAAC,CACVkC,WAAY,oDAJLC,EAAAA,kBADYC,EAAAA,iKAQnB,SAAAnB,EAAoBM,EAA2BF,GAA3BlM,KAAAoM,MAAAA,EAA2BpM,KAAAkM,WAAAA","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export function removeLeadingHash(str: string): string {\n  if (str) {\n    return str.replace(/^#+/, '');\n  }\n  return undefined;\n}\n\nexport function removeTrailingHash(str: string): string {\n  if (str) {\n    return str.replace(/\\#.*/, '');\n  }\n  return undefined;\n}\n\nexport function normalizeAnchor(str: string): string {\n  if (str) {\n    return removeLeadingHash(str.replace(/(_|-|\\s)+/g, '')).toLowerCase();\n  }\n  return undefined;\n}\n\nexport function scrollToAnchor(element: HTMLElement, anchor: string): void {\n  if (element && anchor) {\n    const normalizedAnchor: string = normalizeAnchor(anchor);\n    const parent: HTMLElement = element.parentElement;\n\n    let headingToJumpTo: HTMLElement;\n    const headingWithinComponent: HTMLElement = element.querySelector(`[id=\"${normalizedAnchor}\"]`);\n\n    if (headingWithinComponent) {\n      headingToJumpTo = headingWithinComponent;\n    } else if (parent) {\n      headingToJumpTo = parent.querySelector(`[id=\"${normalizedAnchor}\"]`);\n    }\n    if (headingToJumpTo) {\n      headingToJumpTo.scrollIntoView({ behavior: 'auto' });\n    } else {\n      // TODO: leave this warning?\n      // tslint:disable-next-line\n      console.warn(`Could not jump to heading '${anchor}'`);\n    }\n  }\n}\n\nexport function isAnchorLink(anchor: HTMLAnchorElement): boolean {\n  if (anchor) {\n    return anchor.getAttribute('href').startsWith('#');\n  }\n}\n\nexport function rawGithubHref(githubHref: string): string {\n  if (githubHref) {\n    const url: URL = new URL(githubHref);\n    if (url.pathname.startsWith('/raw/')) {\n      return githubHref;\n    } else {\n      url.hostname = 'raw.githubusercontent.com';\n      url.pathname = url.pathname.split('/blob', 2).join('');\n      return url.href;\n    }\n  }\n  return undefined;\n}\n\nexport function isGithubHref(href: string): boolean {\n  try {\n    const temp: URL = new URL(href);\n    return temp.hostname === 'github.com';\n  } catch {\n    return false;\n  }\n}\n","import {\n  Component,\n  AfterViewInit,\n  ElementRef,\n  Input,\n  Output,\n  EventEmitter,\n  Renderer2,\n  SecurityContext,\n  OnChanges,\n  SimpleChanges,\n  OnDestroy,\n  HostBinding,\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {\n  scrollToAnchor,\n  normalizeAnchor,\n  isAnchorLink,\n  removeTrailingHash,\n  rawGithubHref,\n  isGithubHref,\n} from './markdown-utils';\n\ndeclare const require: any;\n/* tslint:disable-next-line */\nlet showdown: any = require('showdown/dist/showdown.js');\n\n// TODO: assumes it is a github url\n// allow override somehow\nfunction generateAbsoluteHref(currentHref: string, relativeHref: string): string {\n  if (currentHref && relativeHref) {\n    const currentUrl: URL = new URL(currentHref);\n    const path: string = currentUrl.pathname\n      .split('/')\n      .slice(1, -1)\n      .join('/');\n    const correctUrl: URL = new URL(currentHref);\n\n    if (relativeHref.startsWith('/')) {\n      // url is relative to top level\n      const orgAndRepo: string = path\n        .split('/')\n        .slice(0, 3)\n        .join('/');\n      correctUrl.pathname = `${orgAndRepo}${relativeHref}`;\n    } else {\n      correctUrl.pathname = `${path}/${relativeHref}`;\n    }\n    return correctUrl.href;\n  }\n  return undefined;\n}\n\nfunction normalizeHtmlHrefs(html: string, currentHref: string): string {\n  if (currentHref) {\n    const document: Document = new DOMParser().parseFromString(html, 'text/html');\n    document.querySelectorAll('a[href]').forEach((link: HTMLAnchorElement) => {\n      const url: URL = new URL(link.href);\n      const originalHash: string = url.hash;\n      if (isAnchorLink(link)) {\n        if (originalHash) {\n          url.hash = normalizeAnchor(originalHash);\n          link.href = url.hash;\n        }\n      } else if (url.host === window.location.host) {\n        // hosts match, meaning URL MIGHT have been malformed by showdown\n        // url is a relative url or just a link to a part of the application\n        if (url.pathname.endsWith('.md')) {\n          // only check .md urls\n\n          const hrefWithoutHash: string = removeTrailingHash(link.getAttribute('href'));\n\n          url.href = generateAbsoluteHref(currentHref, hrefWithoutHash);\n\n          if (originalHash) {\n            url.hash = normalizeAnchor(originalHash);\n          }\n          link.href = url.href;\n        }\n        link.target = '_blank';\n      } else {\n        // url is absolute\n        if (url.pathname.endsWith('.md')) {\n          if (originalHash) {\n            url.hash = normalizeAnchor(originalHash);\n          }\n          link.href = url.href;\n        }\n        link.target = '_blank';\n      }\n    });\n\n    return new XMLSerializer().serializeToString(document);\n  }\n  return html;\n}\n\nfunction normalizeImageSrcs(html: string, currentHref: string): string {\n  if (currentHref) {\n    const document: Document = new DOMParser().parseFromString(html, 'text/html');\n    document.querySelectorAll('img[src]').forEach((image: HTMLImageElement) => {\n      const src: string = image.getAttribute('src');\n      try {\n        /* tslint:disable-next-line:no-unused-expression */\n        new URL(src);\n        if (isGithubHref(src)) {\n          image.src = rawGithubHref(src);\n        }\n      } catch {\n        image.src = generateAbsoluteHref(isGithubHref(currentHref) ? rawGithubHref(currentHref) : currentHref, src);\n      }\n    });\n\n    return new XMLSerializer().serializeToString(document);\n  }\n  return html;\n}\n\nfunction addIdsToHeadings(html: string): string {\n  if (html) {\n    const document: Document = new DOMParser().parseFromString(html, 'text/html');\n    document.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach((heading: HTMLElement) => {\n      const id: string = normalizeAnchor(heading.innerHTML);\n      heading.setAttribute('id', id);\n    });\n    return new XMLSerializer().serializeToString(document);\n  }\n  return html;\n}\n\n@Component({\n  selector: 'td-markdown',\n  styleUrls: ['./markdown.component.scss'],\n  templateUrl: './markdown.component.html',\n})\nexport class TdMarkdownComponent implements OnChanges, AfterViewInit, OnDestroy {\n  private _content: string;\n  private _simpleLineBreaks: boolean = false;\n  private _hostedUrl: string;\n  private _anchor: string;\n  private handleAnchorClicksBound: EventListenerOrEventListenerObject;\n  private _viewInit: boolean = false;\n  /**\n   * .td-markdown class added to host so ::ng-deep gets scoped.\n   */\n  @HostBinding('class') class: string = 'td-markdown';\n\n  /**\n   * content?: string\n   *\n   * Markdown format content to be parsed as html markup.\n   *\n   * e.g. README.md content.\n   */\n  @Input('content')\n  set content(content: string) {\n    this._content = content;\n  }\n\n  /**\n   * simpleLineBreaks?: string\n   *\n   * Sets whether newline characters inside paragraphs and spans are parsed as <br/>.\n   * Defaults to false.\n   */\n  @Input('simpleLineBreaks')\n  set simpleLineBreaks(simpleLineBreaks: boolean) {\n    this._simpleLineBreaks = simpleLineBreaks;\n  }\n\n  /**\n   * hostedUrl?: string\n   *\n   * If markdown contains relative paths, this is required to generate correct urls.\n   *\n   */\n  @Input('hostedUrl')\n  set hostedUrl(hostedUrl: string) {\n    this._hostedUrl = hostedUrl;\n  }\n\n  /**\n   * anchor?: string\n   *\n   * Anchor to jump to.\n   *\n   */\n  @Input('anchor')\n  set anchor(anchor: string) {\n    this._anchor = anchor;\n  }\n\n  /**\n   * contentReady?: function\n   * Event emitted after the markdown content rendering is finished.\n   */\n  @Output('contentReady') onContentReady: EventEmitter<undefined> = new EventEmitter<undefined>();\n\n  constructor(private _renderer: Renderer2, private _elementRef: ElementRef, private _domSanitizer: DomSanitizer) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // only anchor changed\n    if (changes.anchor && !changes.content && !changes.simpleLineBreaks && !changes.hostedUrl) {\n      scrollToAnchor(this._elementRef.nativeElement, this._anchor);\n    } else {\n      this.refresh();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (!this._content) {\n      this._loadContent((<HTMLElement>this._elementRef.nativeElement).textContent);\n    }\n    this._viewInit = true;\n  }\n\n  ngOnDestroy(): void {\n    this.removeAnchorListeners();\n  }\n\n  refresh(): void {\n    if (this._content) {\n      this._loadContent(this._content);\n    } else if (this._viewInit) {\n      this._loadContent((<HTMLElement>this._elementRef.nativeElement).textContent);\n    }\n  }\n\n  /**\n   * General method to parse a string markdown into HTML Elements and load them into the container\n   */\n  private _loadContent(markdown: string): void {\n    if (markdown && markdown.trim().length > 0) {\n      // Clean container\n      this._renderer.setProperty(this._elementRef.nativeElement, 'innerHTML', '');\n      // Parse html string into actual HTML elements.\n      let divElement: HTMLDivElement = this._elementFromString(this._render(markdown));\n    }\n    this.removeAnchorListeners();\n    this.handleAnchorClicksBound = this.handleAnchorClicks.bind(this);\n    this.attachAnchorListeners();\n    // TODO: timeout required since resizing of html elements occurs which causes a change in the scroll position\n    setTimeout(() => scrollToAnchor(this._elementRef.nativeElement, this._anchor), 250);\n    this.onContentReady.emit();\n  }\n\n  private async handleAnchorClicks(event: Event): Promise<void> {\n    event.preventDefault();\n    const url: URL = new URL((<HTMLAnchorElement>event.target).href);\n    const hash: string = decodeURI(url.hash);\n    scrollToAnchor(this._elementRef.nativeElement, hash);\n  }\n\n  private attachAnchorListeners(): void {\n    // TODO: rxjs fromEvent\n    Array.from(this._elementRef.nativeElement.querySelectorAll('a[href]'))\n      .filter((link: HTMLAnchorElement) => isAnchorLink(link))\n      .forEach((link: HTMLAnchorElement) => link.addEventListener('click', this.handleAnchorClicksBound));\n  }\n\n  private removeAnchorListeners(): void {\n    Array.from(this._elementRef.nativeElement.querySelectorAll('a[href]'))\n      .filter((link: HTMLAnchorElement) => isAnchorLink(link))\n      .forEach((link: HTMLAnchorElement) => link.removeEventListener('click', this.handleAnchorClicksBound));\n  }\n\n  private _elementFromString(markupStr: string): HTMLDivElement {\n    // Renderer2 doesnt have a parsing method, so we have to sanitize and use [innerHTML]\n    // to parse the string into DOM element for now.\n    const div: HTMLDivElement = this._renderer.createElement('div');\n    this._renderer.appendChild(this._elementRef.nativeElement, div);\n    const html: string = this._domSanitizer.sanitize(SecurityContext.HTML, markupStr);\n    const htmlWithAbsoluteHrefs: string = normalizeHtmlHrefs(html, this._hostedUrl);\n    const htmlWithAbsoluteImgSrcs: string = normalizeImageSrcs(htmlWithAbsoluteHrefs, this._hostedUrl);\n    const htmlWithHeadingIds: string = addIdsToHeadings(htmlWithAbsoluteImgSrcs);\n    div.innerHTML = htmlWithHeadingIds;\n    return div;\n  }\n\n  private _render(markdown: string): string {\n    // Trim leading and trailing newlines\n    markdown = markdown.replace(/^(\\s|\\t)*\\n+/g, '').replace(/(\\s|\\t)*\\n+(\\s|\\t)*$/g, '');\n    // Split markdown by line characters\n    let lines: string[] = markdown.split('\\n');\n\n    // check how much indentation is used by the first actual markdown line\n    let firstLineWhitespace: string = lines[0].match(/^(\\s|\\t)*/)[0];\n\n    // Remove all indentation spaces so markdown can be parsed correctly\n    let startingWhitespaceRegex: RegExp = new RegExp('^' + firstLineWhitespace);\n    lines = lines.map(function(line: string): string {\n      return line.replace(startingWhitespaceRegex, '');\n    });\n\n    // Join lines again with line characters\n    let markdownToParse: string = lines.join('\\n');\n\n    // Convert markdown into html\n    let converter: any = new showdown.Converter();\n    converter.setOption('ghCodeBlocks', true);\n    converter.setOption('tasklists', true);\n    converter.setOption('tables', true);\n    converter.setOption('simpleLineBreaks', this._simpleLineBreaks);\n    let html: string = converter.makeHtml(markdownToParse);\n    return html;\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TdMarkdownComponent } from './markdown.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  declarations: [\n    TdMarkdownComponent,\n  ],\n  exports: [\n    TdMarkdownComponent,\n  ],\n})\nexport class CovalentMarkdownModule {\n\n}\n","import { Injectable, Sanitizer, SecurityContext } from '@angular/core';\nimport { HttpClient, HttpResponse } from '@angular/common/http';\nimport { isGithubHref, rawGithubHref } from './markdown-utils';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MarkdownLoaderService {\n  constructor(private _http: HttpClient, private _sanitizer: Sanitizer) {}\n\n  async load(url: string, httpOptions: object = {}): Promise<string> {\n    const sanitizedUrl: string = this._sanitizer.sanitize(SecurityContext.URL, url);\n    let urlToGet: string = sanitizedUrl;\n    if (isGithubHref(sanitizedUrl)) {\n      urlToGet = rawGithubHref(sanitizedUrl);\n    }\n\n    const response: HttpResponse<string> = await this._http\n      .get(urlToGet, { ...httpOptions, responseType: 'text', observe: 'response' })\n      .toPromise();\n    const contentType: string = response.headers.get('Content-Type');\n    if (contentType.includes('text/plain') || contentType.includes('text/markdown')) {\n      return response.body;\n    } else {\n      throw Error(`${contentType} is not a handled content type`);\n    }\n  }\n}\n"]}